<form [formGroup]="bookForm" (ngSubmit)="onSubmit()" class="flex flex-wrap items-center justify-center bg-white rounded-md shadow-md p-4">
  <div class="w-full mb-4">
    <h2 class="font-semibold text-lg">Create new book</h2>
    <hr>
  </div>
  <div class="flex flex-wrap max-w-[40%] w-[40%] mx-4 mb-4">
    <div class="w-full px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="title">
        Title
      </label>
      <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" formControlName="title" id="title" type="text" placeholder="Title">
      <div *ngIf="bookForm.controls['title'].invalid && (bookForm.controls['title'].dirty || bookForm.controls['title'].touched)" class="text-red-500 text-xs italic">
        Please enter a valid title.
      </div>
    </div>
  </div>

  <div class="flex flex-wrap max-w-[40%] w-[40%] mx-4 mb-4">
    <div class="w-full px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="author">
        Author
      </label>
      <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" formControlName="author" id="author" type="text" placeholder="Author">
      <div *ngIf="bookForm.controls['author'].invalid && (bookForm.controls['author'].dirty || bookForm.controls['author'].touched)" class="text-red-500 text-xs italic">
        Please enter a valid author.
      </div>
    </div>
  </div>

  <div class="flex flex-wrap max-w-[40%] w-[40%] mx-4 mb-4">
    <div class="w-full px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="publisher">
        Publisher
      </label>
      <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" formControlName="publisher" id="publisher" type="text" placeholder="Publisher">
      <div *ngIf="bookForm.controls['publisher'].invalid && (bookForm.controls['publisher'].dirty || bookForm.controls['publisher'].touched)" class="text-red-500 text-xs italic">
        Please enter a valid publisher.
      </div>
    </div>
  </div>
  <div class="flex flex-wrap max-w-[40%] w-[40%] mx-4 mb-4">
    <div class="w-full px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="isbn">
        ISBN
      </label>
      <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" formControlName="isbn" id="isbn" type="text" placeholder="ISBN">
      <div *ngIf="bookForm.controls['isbn'].invalid && (bookForm.controls['isbn'].dirty || bookForm.controls['isbn'].touched)" class="text-red-500 text-xs italic">
        Please enter a valid ISBN.
      </div>
    </div>
  </div>
  <!-- Descripción -->
  <div class="flex flex-wrap max-w-[40%] w-[40%] mx-4 mb-4">
    <div class="w-full px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="description">
        Descripción
      </label>
      <textarea class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" formControlName="description" id="description" placeholder="Descripción"></textarea>
      <div *ngIf="bookForm.controls['description'].invalid && (bookForm.controls['description'].dirty || bookForm.controls['description'].touched)" class="text-red-500 text-xs italic">
        Por favor, ingresa una descripción.
      </div>
    </div>
  </div>

  <!-- Cover Image -->
  <div class="flex flex-wrap max-w-[40%] w-[40%] mx-4 mb-4">
    <div class="w-full px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="coverImage">
        Imagen de portada
      </label>
      <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" formControlName="coverImage" id="coverImage" type="text" placeholder="URL de la imagen de portada">
      <div *ngIf="bookForm.controls['coverImage'].invalid && (bookForm.controls['coverImage'].dirty || bookForm.controls['coverImage'].touched)" class="text-red-500 text-xs italic">
        Por favor, ingresa una URL válida para la imagen de portada.
      </div>
    </div>
  </div>

  <div class="flex flex-wrap max-w-[40%] w-[40%] mx-4 mb-4">
    <div class="w-full px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="publishedDate">
        Published Date
      </label>
      <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" formControlName="publishedDate" id="publishedDate" type="date" placeholder="Published Date">
      <div *ngIf="bookForm.controls['publishedDate'].invalid && (bookForm.controls['publishedDate'].dirty || bookForm.controls['publishedDate'].touched)" class="text-red-500 text-xs italic">
        Please enter a valid published date.
      </div>
    </div>
  </div>

  <div class="flex flex-wrap max-w-[40%] w-[40%] mx-4 mb-4">
    <div class="w-full px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="language">
        Language
      </label>
      <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" formControlName="language" id="language" type="text" placeholder="Language">
      <div *ngIf="bookForm.controls['language'].invalid && (bookForm.controls['language'].dirty || bookForm.controls['language'].touched)" class="text-red-500 text-xs italic">
        Please enter a valid language.
      </div>
    </div>
  </div>

  <div class="flex flex-wrap max-w-[40%] w-[40%] mx-4 mb-4">
    <div class="w-full px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="category">
        Category
      </label>
      <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" formControlName="category" id="category" type="text" placeholder="Category">
      <div *ngIf="bookForm.controls['category'].invalid && (bookForm.controls['category'].dirty || bookForm.controls['category'].touched)" class="text-red-500 text-xs italic">
        Please enter a valid category.
      </div>
    </div>
  </div>

  <div class="flex flex-wrap max-w-[40%] w-[40%] mx-4 mb-4">
    <div class="w-full px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="stock">
        Stock
      </label>
      <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" formControlName="stock" id="stock" type="number" placeholder="Stock">
      <div *ngIf="bookForm.controls['stock'].invalid && (bookForm.controls['stock'].dirty || bookForm.controls['stock'].touched)" class="text-red-500 text-xs italic">
        Please enter a valid stock.
      </div>
    </div>
  </div>

  <div class="flex flex-wrap max-w-[40%] w-[40%] mx-4 mb-4">
    <div class="w-full px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="barcode">
        Barcode
      </label>
      <div class="flex">
        <input class="flex-1 appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" formControlName="barcode" id="barcode" type="text" placeholder="Barcode">
        <button type="button" (click)="randomBarcode()" class="bg-red-400 rounded-r-md py-3 px-4 mb-3 flex items-center justify-center text-white hover:bg-red-500 hover:text-white">
          <span class="mat-icon">autorenew</span>
        </button>
      </div>
      <div *ngIf="bookForm.controls['barcode'].invalid && (bookForm.controls['barcode'].dirty || bookForm.controls['barcode'].touched)" class="text-red-500 text-xs italic">
        Please enter a valid barcode.
      </div>
    </div>
  </div>
  <div class="w-full flex space-x-4 items-center justify-end">
    <button type="button" (click)="handleCancel()" class="border-2 border-red-400 text-red-400 p-3 rounded-md hover:bg-red-500 hover:text-white">Cancel</button>
    <button type="submit" [disabled]="!bookForm.valid" class="bg-red-400 text-white p-3 rounded-md shadow-md hover:bg-red-500 hover:text-white">Create</button>
  </div>
</form>
